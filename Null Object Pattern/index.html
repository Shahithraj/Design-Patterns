<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Null Object Pattern</title>
  </head>
  <body>
    <select onchange="handleDropdown(this)">
      <option value="" selected disabled>Select a User</option>
      <option value="John">John</option>
      <option value="Bob">Bob</option>
      <option value="Doe">Doe</option>
    </select>
    <br>
    <br>
    <br>

    <button>Log In</button>
    <div id="content"></div>

    <script>
      class User {
        constructor(name) {
          this.name = name;
        }

        hasAccess() {
          return this.name == "John";
        }
      }

      class NullUser {
        constructor() {
          this.name = "Guest";
        }
        hasAccess() {
          return "no";
        }
      }
    </script>

    <script>
      const button = document.querySelector("button");
      const content = document.getElementById("content");

      button.addEventListener("click", loginClick);
      let name = "";

      function loginClick() {
       const user = getUser();
       content.innerHTML = `Successfully log in as ${user.name} and has access ${user.hasAccess()}`
      }

      function getUser() {
        if(name) {
            return new User(name)
        }
        return new NullUser();
      }

      function handleDropdown(e) {
        name = e.value;
        console.log(name);
      }

    </script>
  </body>
</html>
